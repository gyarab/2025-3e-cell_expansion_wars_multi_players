<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brain Cell Wars</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="menu">

<div id="loginBox">
    <div id="loginForm">
        <input type="text" id="username" placeholder="Name">
        <input type="password" id="password" placeholder="Password">
        <button onclick="login()">Login</button>
        <button onclick="register()">Register</button>
        <p id="loginMessage"></p>
    </div>

    <div id="userPanel" class="hidden">
        <span id="welcomeText"></span>
        <button onclick="logout()">Logout</button>
    </div>
</div>

    <!-- üåü Section 1: Hero / Title -->
    <section class="hero-section" id="hero">
        <h1 class="title">Brain Cell Wars</h1>
        <p class="intro-text">
            ƒåau lidi! V√≠tejte ve h≈ôe Brain Cell Wars, kde budete br√°nit sv√© mozkov√© bu≈àky p≈ôed invaz√≠ ≈°kodliv√Ωch vir≈Ø a bakteri√≠.
        </p>
        <a href="#levels" class="scroll-down">&#8595; Scroll Down</a>
    </section>

    <!-- üéÆ Section 2: Level Buttons -->
    <section class="levels-section" id="levels">
        <h2>M≈Ø≈æete zkusit n√°≈° level:</h2>

        <div class="level-buttons">
            <button id="level1Btn" class="level-button" onclick="location.href='game.html'">LEVEL 1</button>
            <button disabled>LEVEL 2</button>
            <button disabled>LEVEL 3</button>
        </div>

        <!-- Multiplayer button -->
        <div class="multiplayer-button">
            <button disabled>MULTIPLAYER (COMING SOON)</button>
        </div>
    </section> 

<script src="login.js"></script>

<button id="achievementsBtn" class="level-button achievements-btn">üèÜ ACHIEVEMENTS</button>

<div id="achievementsPopup" class="notification hidden">
    <h2>√öspƒõchy</h2>
    <div id="achievementsList"></div>
    <button id="achCloseBtn">Zav≈ô√≠t</button>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    if (window.hasWon && hasWon(1)) {
        const b = document.getElementById('level1Btn');
        if (b) b.classList.add('completed');
    }

    const achievementsBtn = document.getElementById("achievementsBtn");
    const achievementsPopup = document.getElementById("achievementsPopup");
    const achievementsList = document.getElementById("achievementsList");
    const achCloseBtn = document.getElementById("achCloseBtn");

    function renderAchievements() {
        if (!achievementsList) return;
        achievementsList.innerHTML = "";

        const achievements = [
            { level: 1, icon: "ü•â", title: "Rookie", desc: "Level 1 dokonƒçen" },
            { level: 2, icon: "ü•à", title: "All-Star", desc: "Level 2 dokonƒçen" },
            { level: 3, icon: "ü•á", title: "Legend", desc: "Level 3 dokonƒçen" }
        ];

        achievements.forEach(a => {
            const row = document.createElement("div");

            if (hasWon(a.level)) {
                row.textContent = `${a.icon} ${a.title} ‚Äî ${a.desc}`;
                row.style.color = "gold";
            } else {
                row.textContent = `üîí ${a.title} ‚Äî ${a.desc}`;
                row.style.color = "#666";
            }

            row.style.fontSize = "18px";
            row.style.margin = "12px 0";

            achievementsList.appendChild(row);
        });
    }

    if (achievementsBtn) {
        achievementsBtn.addEventListener("click", () => {
            window.gamePaused = true;
            if (achievementsPopup) achievementsPopup.classList.remove("hidden");
            renderAchievements();
        });
    }

    if (achCloseBtn) {
        achCloseBtn.addEventListener("click", () => {
            if (achievementsPopup) achievementsPopup.classList.add("hidden");
            window.gamePaused = false;
        });
    }

    // expose renderer/close to global in case other code calls them
    window.renderAchievements = renderAchievements;
    window.closeAchievements = () => {
        if (achievementsPopup) achievementsPopup.classList.add("hidden");
        window.gamePaused = false;
    };
});
</script>

</body>
</html>
